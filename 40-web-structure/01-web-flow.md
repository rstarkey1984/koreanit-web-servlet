# λΈλΌμ°μ €μ—μ„ `www.google.com` μ„ μ…λ ¥ν–μ„ λ•μ μ „μ²΄ νλ¦„


## π“ ν•™μµ κ°μ”
λΈλΌμ°μ €μ—μ„ μ›Ήμ‚¬μ΄νΈ νΈμ¶ μ‹ μ–΄λ–¤ κ³Όμ •μ„ ν†µν•΄ μµμΆ…μ μΌλ΅ ν™”λ©΄μ— ν‘μ‹κ°€ λλ”μ§€ μ•μ•„λ³΄μ.

![ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈ](https://lh3.googleusercontent.com/d/1Ytos16Ll_nOcL2KuZw-c8Yv5QvYfIsdt)

## 1. λΈλΌμ°μ €μ—μ„ `www.google.com` μ„ μ…λ ¥ν–μ„ λ•μ μ „μ²΄ νλ¦„

### 1οΈβƒ£ URL μ…λ ¥

μ‚¬μ©μκ°€ λΈλΌμ°μ € μ£Όμ†μ°½μ— `www.google.com` μ„ μ…λ ¥ν•λ©΄, λΈλΌμ°μ €λ” μ΄κ²ƒμ΄ **λ„λ©”μΈ μ΄λ¦„**μ΄λΌλ” κ²ƒμ„ μΈμ‹ν•©λ‹λ‹¤.

`https://` κ°€ μƒλµλμ–΄ μλ‹¤λ©΄ κΈ°λ³Έμ μΌλ΅ HTTPS(443λ² ν¬νΈ)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.


### 2οΈβƒ£ DNS μ΅°ν ( Domain Name System )

λΈλΌμ°μ €λ” μ„λ²„μ™€ μ‹¤μ  ν†µμ‹ μ„ μ„ν•΄ **IP μ£Όμ†**κ°€ ν•„μ”ν•λ―€λ΅ μ°ΎκΈ° μ„ν•΄ λ‹¤μ λ‹¨κ³„λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.

1. λΈλΌμ°μ €(ν¬λ΅¬,μ—£μ§€,μ‚¬νλ¦¬ λ“±) μΊμ‹ ν™•μΈ β†’ μμ „μ— λ°©λ¬Έν• μ  μλ‚?
2. OS μΊμ‹ (hosts νμΌ ν¬ν•¨) ν™•μΈ β†’ λ΅μ»¬μ—μ„ μ„¤μ •λ IP μλ‚?
3. ISP(ν†µμ‹ μ‚¬)μ DNS μ„λ²„ μ— μ§μ(Query)
4. μ—†μΌλ©΄ λ£¨νΈ DNS μ„λ²„ ( Root Name Server ) β†’ `.com` μ„λ²„ ( TLD λ„¤μ„μ„λ²„ ) β†’ `google.com` λ„¤μ„μ„λ²„ ( Authoritative(κ¶ν•) λ„¤μ„μ„λ²„ ) μμΌλ΅ μ°Ύμ•„μ„ κ²°κ³Όμ μΌλ΅ κ¶ν• λ„¤μ„μ„λ²„μ— λ“±λ΅λ IP μ£Όμ†λ¥Ό λ°›μµλ‹λ‹¤.   

    π’΅ μ΄ IP μ£Όμ†λ” DNS μΊμ‹ μ— μ €μ¥λμ–΄ λ‹¤μμ— λ” λΉ λ¥΄κ² μ ‘κ·Όν•©λ‹λ‹¤.

- λ€ν‘μ μΈ κ¶ν• λ„¤μ„μ„λ²„ μ„λΉ„μ¤ ν•λ”κ³³ : AWS Route 53, Google Cloud DNS, KISA λ„¤μ„μ„λ²„ λ“±

### 3οΈβƒ£ TCP μ—°κ²° ( 3-way Handshake )

μ΄μ  λΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ)λ” IP μ£Όμ†λ¥Ό μ•μ•μΌλ‹ μ„λ²„μ™€ TCP μ—°κ²°μ„ λ§Ίμµλ‹λ‹¤.

| λ‹¨κ³„    | λ™μ‘   | μ„¤λ…                        |
|:---:|--- | ------------------------- | 
|  1| SYN   | ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ : β€μ—°κ²°ν•κ³  μ‹¶μ–΄μ”β€   |    
| 2| SYN-ACK | μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈ : β€μΆ‹μ•„μ”, μ¤€λΉ„λμ–΄μ”β€ |    
| 3 | ACK  | ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„ : β€ν™•μΈν–μµλ‹λ‹¤β€     |    

μ΄ κ³Όμ •μ„ **3-way handshake** λΌκ³  ν•λ©° μ΄ κ³Όμ •μ΄ λμ΄ λ‚λ©΄ TCP λ λ²¨μ—μ„ μ–‘λ°©ν–¥ ν†µμ‹  κ°€λ¥ν• νμ΄ν”„λΌμΈ(μ†μΌ“)μ΄ μƒμ„±

- SYN = Synchronize : β€μ—°κ²°μ„ μ‹μ‘ν•μβ€ β€” TCP μ‹ν€€μ¤ λ²νΈ μ΄κΈ°ν™”μ©
- ACK = Acknowledge : β€μ λ°›μ•μ–΄β€ β€” μƒλ€μ μ”μ²­μ΄λ‚ λ°μ΄ν„° μμ‹  ν™•μΈ

### 4οΈβƒ£ TLS(SSL) ν•Έλ“μ…°μ΄ν¬ ( HTTPSμΈ κ²½μ° )

κµ¬κΈ€μ€ HTTPS(λ³΄μ• ν”„λ΅ν† μ½)μ„ μ‚¬μ©ν•λ―€λ΅, TCP μ—°κ²° μ„μ—μ„ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄μ„ νλ ¤λ³΄λ‚΄κΈ° μ„ν•΄ μ•„λ λ‹¨κ³„λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.
| λ‹¨κ³„    |  μ„¤λ…                        |
|:---:|------------------------ | 
|  1| λΈλΌμ°μ €κ°€ β€λ‚ TLS μ“Έκ²μ”!β€ (λ²„μ „, μ•”νΈν™” λ°©μ‹ λ“±)  |    
| 2| μ„λ²„κ°€ β€μΆ‹μ•„, λ‚΄ μΈμ¦μ„ μ—¬κΈ° μμ–΄β€ (κ³µκ°ν‚¤ ν¬ν•¨) |    
| 3 |  λΈλΌμ°μ €κ°€ μΈμ¦μ„λ¥Ό κ²€μ¦ (CA μ„λ… ν™•μΈ, λ„λ©”μΈ μΌμΉ ν™•μΈ λ“±)     |    
| 4 |  μ΄ν›„ κ³µκ°ν‚¤ κΈ°λ° μ•”νΈν™”λ΅ λ€μΉ­ν‚¤ κµν™     |    
| 5 |  λ³΄μ• μ±„λ„(μ•”νΈν™”λ TCP μ—°κ²°) μ™„μ„±    |    

π”’ μ΄ν›„ ν†µμ‹ μ€ λ¨λ‘ μ•”νΈν™”λμ–΄ μ£Όκ³ λ°›μµλ‹λ‹¤ 

### 5οΈβƒ£ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ ( HTTP Request )

λΈλΌμ°μ €λ” μ΄μ  μ•”νΈν™”λ μ±„λ„μ„ ν†µν•΄ HTTP ν”„λ΅ν† μ½λ΅ μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.

ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— λ³΄λ‚΄λ” λ©”μ‹μ§€λ” μ•„λμ™€ κ°™μ΄ κµ¬μ„±λ©λ‹λ‹¤.
```
Request Line β†’ μ”μ²­ λΌμΈ (λλ” μƒνƒ λΌμΈ)
Headers β†’ μ—¬λ¬ κ°μ ν—¤λ”λ“¤
---λΉ μ¤„ ν•λ‚---
Body β†’ μ‹¤μ  λ°μ΄ν„° (POSTλ‚ PUTμΌ λ•λ§ μ΅΄μ¬)
```

ν΄λΌμ΄μ–ΈνΈ μ”μ²­( GET ) μμ‹:
```
<!-- Request Line -->
GET / HTTP/1.1
<!-- Headers μ‹μ‘ -->
Host: www.google.com
Connection: keep-alive
User-Agent: Chrome/129.0 - 
Accept: text/html,application/xhtml+xml
Accept-Language: ko-KR
Cookie: sessionid=abcd1234
Authorization: Bearer eyJhbGciOiJI...
<!-- Headers λ -->

<!-- Body μ‹μ‘ --> (POSTλ‚ PUTμΌ λ•λ§ μ΅΄μ¬)
username=student01&password=1234
<!-- Body λ -->
```

- Request Line ( μ”μ²­ λΌμΈ ) : μ”μ²­μ μ²« μ¤„λ΅, μ–΄λ–¤ ν–‰λ™μ„ ν• μ§€μ™€ λ€μƒ μ£Όμ†λ¥Ό μ•λ ¤μ¤λ‹λ‹¤.
    |ν•­λ©|μλ―Έ|
    |------|---|
    |GET|μ”μ²­ λ©”μ„λ“(ν–‰λ™)|
    |/|μ”μ²­ν•  λ¦¬μ†μ¤(κ²½λ΅)|
    |HTTP/1.1|ν”„λ΅ν† μ½ λ²„μ „|

- Headers : ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €λ‚ μ•±)κ°€ μμ‹ μ ν™κ²½, μ”μ²­ μ„Έλ¶€ μ •λ³΄, μΈμ¦ μ •λ³΄ λ“±μ„ λ³΄λƒ…λ‹λ‹¤. μ„λ²„λ” μ΄κ±Έ λ³΄κ³  β€λ„κ°€, μ–΄λ–»κ² μ”μ²­ν–λ”μ§€β€ νλ‹¨ν•©λ‹λ‹¤.

    |ν—¤λ”|μ„¤λ…|
    |------|---|
    |Host|	μ”μ²­ λ€μƒ λ„λ©”μΈ μ΄λ¦„ (www.google.com)|
    |Connection| keep-alive λ©΄ TCP μ—°κ²°μ„ ν• λ² λ§Ίμ€ ν›„, μ—¬λ¬ HTTP μ”μ²­μ„ κ°™μ€ μ—°κ²°λ΅ μ¬μ‚¬μ©ν•κ² λ‹¤λ” λ»|
    |User-Agent	|ν΄λΌμ΄μ–ΈνΈ μΆ…λ¥ (λΈλΌμ°μ €, OS μ •λ³΄ λ“±)|
    |Accept	|ν΄λΌμ΄μ–ΈνΈκ°€ λ°›μ„ μ μλ” μ½ν…μΈ  ν•μ‹|
    |Accept-Language|	μ„ νΈν•λ” μ–Έμ–΄|
    |Referer	|μ΄μ „ νμ΄μ§€ URL (μ–΄λ””μ„ μ™”λ”μ§€)|
    |Cookie|μ„Έμ…μ΄λ‚ λ΅κ·ΈμΈ μ •λ³΄|
    |Authorization|	μΈμ¦ ν† ν° λλ” μκ²© μ¦λ…|
    |Content-Type|(POST μ”μ²­ μ‹) λ³΄λ‚Έ λ°μ΄ν„° ν•μ‹ (μ: application/json)|


- Body( λ³Έλ¬Έ ) : 
    |λ©”μ„λ“|μ„¤λ…|
    |------|---|
    |GET | λ³΄ν†µ μ—†μ. |
    |POST / PUT / PATCH | λ°μ΄ν„°κ°€ λ³Έλ¬Έμ— λ‹΄κ²¨μ„ μ „μ†΅ (μ: username=student01&password=1234 )|

### 6οΈβƒ£ μ„λ²„μ μ‘λ‹µ ( HTTP Response )

μ„λ²„μ HTTP μ‘λ‹µ λ©”μ‹μ§€λ” μ΄λ ‡κ² κµ¬μ„±λ©λ‹λ‹¤.
```
Response Line β†’ μ‘λ‹µ λΌμΈ (λλ” μƒνƒ λΌμΈ)
Headers β†’ μ—¬λ¬ κ°μ ν—¤λ”λ“¤
---λΉ μ¤„ ν•λ‚---
Body β†’ μ‹¤μ  λ°μ΄ν„°
```

μ„λ²„ μ‘λ‹µ μμ‹:
```
<!-- Response Line -->
HTTP/1.1 200 OK 
<!-- Headers μ‹μ‘ -->
Content-Type: text/html
Content-Length: 1234
Connection: keep-alive
Keep-Alive: timeout=5, max=100
<!-- Headers λ -->

<!-- Body μ‹μ‘ -->
<html>
  <body>
    <h1>Hello, world!</h1>
  </body>
</html>
<!-- Body λ -->
```
- Response Line( μ‘λ‹µ λΌμΈ ) : μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ²λ¦¬ν• ν›„, κ·Έ κ²°κ³Όλ¥Ό μ²μ ν• μ¤„μ— μ”μ•½ν•΄μ„ λ³΄λ‚΄λ” λ¶€λ¶„μ…λ‹λ‹¤.
    |ν•­λ©|μ„¤λ…|
    |---|---|
    |HTTP/1.1	|μ‚¬μ© μ¤‘μΈ ν”„λ΅ν† μ½ λ²„μ „|
    |	200|	μ”μ²­ μ²λ¦¬ κ²°κ³Όλ¥Ό λ‚νƒ€λ‚΄λ” μ«μ|
    |	OK	|μƒνƒμ½”λ“μ μλ―Έλ¥Ό μ‚¬λμ΄ μ½κΈ° μ‰½κ² ν‘ν„|

- Headers : λ³Έλ¬Έ( body ) μ— λ€ν• μ„¤λ… μ •λ³΄

    |ν—¤λ”|	μ„¤λ…|
    |---|---|
    |Content-Type|Body λ°μ΄ν„° ν•μ‹|
    |Content-Length|Body λ°μ΄ν„° κΈΈμ΄|
    |Connection| keep-alive	λΌλ©΄ μ—°κ²°μ„ μ μ§€ν•κ² λ‹¤λ” λ» (μ„λ²„λ„ λ™μ)|
    |Keep-Alive| timeout=5, max=100	μµμ… ν—¤λ” β€” μ–Όλ§λ‚ μ μ§€ν• μ§€ μ΅°κ±΄ μ§€μ •|
    |timeout|	μ—°κ²°μ„ λ‡ μ΄ λ™μ• μ μ§€ν• μ§€ (μ: 5μ΄ λ™μ• λ‹¤μ μ”μ²­ κΈ°λ‹¤λ¦Ό)|
    |max|	ν• μ—°κ²°μ—μ„ λ‡ κ°μ μ”μ²­κΉμ§€ μ²λ¦¬ν• μ§€ μ ν•|

- Body( λ³Έλ¬Έ ) : λ³Έλ¬Έμ—λ” **HTML μ½”λ“**κ°€ λ‹΄κ²¨ μμµλ‹λ‹¤. 


### 7οΈβƒ£ λ λ”λ§(Rendering)

λΈλΌμ°μ €λ” λ°›μ€ HTMLμ„ νμ‹±ν•μ—¬ DOM(Document Object Model)μ„ λ§λ“¤κ³ , CSSλ¥Ό μ μ©ν•΄ μ¤νƒ€μΌμ„ μ…νκ³  JSλ¥Ό μ‹¤ν–‰μ‹μΌ λ™μ  κΈ°λ¥μ„ κµ¬ν„ν•©λ‹λ‹¤.


μ„μ™€ κ°™μ€ μ΄ κ³Όμ •μ„ ν†µν•΄ **ν™”λ©΄μ— κµ¬κΈ€ ν™νμ΄μ§€κ°€ ν‘μ‹λ©λ‹λ‹¤.**

--- 

## μ”μ•½μ •λ¦¬

λ‹¨κ³„λ³„λ΅ κ°„λ‹¨ν μ •λ¦¬ν•μλ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

| λ‹¨κ³„ | μ΄λ¦„ | μ„¤λ… |
|------|------|------|
| 1 | URL μ…λ ¥ | λ„λ©”μΈ μ΄λ¦„μ„ μΈμ‹ |
| 2 | DNS μ΅°ν | λ„λ©”μΈμ„ IP μ£Όμ†λ΅ λ³€ν™ |
| 3 | TCP μ—°κ²° | μ„λ²„μ™€ ν†µμ‹  μ±„λ„ μƒμ„±  |
| 4 | TLS μ„¤μ • | λ°μ΄ν„°λ¥Ό μ•”νΈν™” ( HTTPS μΌλ• ) |
| 5 | HTTP μ”μ²­ | μ„λ²„μ— νμ΄μ§€ μ”μ²­ |
| 6 | HTTP μ‘λ‹µ | μ„λ²„κ°€ HTML/CSS/JS λ°ν™ |
| 7 | λ λ”λ§ | λΈλΌμ°μ €κ°€ ν™”λ©΄ κµ¬μ„± |

> λΈλΌμ°μ € μ£Όμ†μ°½μ— URLμ„ μ…λ ¥ν•λ” λ‹¨μν• ν–‰μ„λ”  
> μ‚¬μ‹¤μƒ μμ‹­ κ°μ λ„¤νΈμ›ν¬, λ³΄μ•, ν”„λ΅ν† μ½ κ³Όμ •μ΄ μμ‹κ°„μ— μΌμ–΄λ‚λ” κ²°κ³Όμ…λ‹λ‹¤.

## π§© μ‹¤μµ / κ³Όμ 
- ν¬λ΅¬ Network νƒ­μ—μ„ μ”μ²­ ν—¤λ” λ¶„μ„ν•κΈ°.

## π” ν¬λ΅¬ κ°λ°μ λ„κµ¬λ΅ ν™•μΈν•κΈ°

- ν¬λ΅¬μ„ μ‹¤ν–‰ν•΄μ„ http://www.google.com μ— μ ‘μ† ν›„ F12λ¥Ό λλ¬ **Network νƒ­**μ—μ„ λΈλΌμ°μ €κ°€ μ„λ²„μ— μ”μ²­ν•λ” κ°’λ“¤κ³Ό μ„λ²„μ—μ„ μ‘λ‹µν• κ°’λ“¤μ„ μ•„λμ™€ κ°™μ΄ μ§μ ‘ λ³Ό μ μμµλ‹λ‹¤.
![ν¬λ΅¬κ°λ°μλ„κµ¬](https://lh3.googleusercontent.com/d/1S82-pXRZAIwd5rol4VQ2COdeXkxjYzhP)

- Headers : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ£Όκ³ λ°›λ” μ •λ³΄λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
- Preview : μ„λ²„κ°€ μ‘λ‹µν•΄μ¤€ λ°μ΄ν„° λ―Έλ¦¬λ³΄κΈ°
- Response : μ„λ²„κ°€ μ‘λ‹µν• Body( λ³Έλ¬Έ )
- Cookies : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ£Όκ³ λ°›μ€ Header μ•μ— μλ” μΏ ν‚¤μ •λ³΄λ¥Ό λ³΄κΈ° μ‰½κ² ν‘λ΅ ν™•μΈν•  μ μμ.
